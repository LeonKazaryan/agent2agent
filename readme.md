# Мультиагентная система

## Описание проекта

Создал мультиагентную систему с двумя агентами:

- **SenderAgent**: Отправляет случайные числа и корректирует их на основе рекомендаций.
- **ReceiverAgent**: Получает числа, считает среднее значение и даёт рекомендации ("побольше" или "поменьше"), чтобы среднее приближалось к 5.

Система реализована в двух вариантах:

### Первый вариант (SPADE + AutoGen)

- **SenderAgent** реализован на SPADE (Python), используя XMPP для внутренней работы, но обменивается данными через файл `agent_exchange.json`.
- **ReceiverAgent** реализован на AutoGen (Python), который читает числа из файла, анализирует их и записывает рекомендации.
- Обмен данными происходит через файл `agent_exchange.json`.

### Второй вариант (main.py с asyncio + AutoGen)

- **SenderAgent** переписан на чистом `asyncio` (без SPADE) для упрощения и устранения зависимости от XMPP.
- **ReceiverAgent** остаётся на AutoGen.
- Обмен данными осуществляется через асинхронные очереди (`asyncio.Queue`), что делает взаимодействие более надёжным и быстрым.
- Этот вариант является вторым решением, предлагаемым для демонстрации гибкости подхода.

## Использованные фреймворки

- **SPADE**: Использовался в первом варианте для SenderAgent (хотя в основном для структуры агента, без активного использования XMPP).
- **AutoGen**: Использован в обоих вариантах для ReceiverAgent, обеспечивая анализ и рекомендации.
- **asyncio**: Использован во втором варианте как основа для SenderAgent, заменяя SPADE для упрощения кода.

## A2A протокол

- В первом варианте A2A реализовано через обмен данными в файле `agent_exchange.json`.
- Во втором варианте A2A реализовано через асинхронные очереди `asyncio.Queue`, что обеспечивает более прямое взаимодействие между агентами.

## Работа на лучшее развитие

- ReceiverAgent анализирует числа от SenderAgent и даёт рекомендации, чтобы среднее значение чисел приближалось к 5.
- SenderAgent корректирует числа на основе этих рекомендаций, что демонстрирует совместную работу на улучшение системы.

## Как запустить

### Первый вариант

1. Установите зависимости:
   pip3 install spade pyautogen
2. Зарегистрируйте пользователя `sender@jabber.hot-chilli.net` с паролем `password` на XMPP-сервере (например, jabber.hot-chilli.net).
3. Запустите агентов в двух терминалах:
   python3 sender.py
   python3 receiver.py
4. Наблюдайте, как агенты обмениваются данными через файл.

### Второй вариант

1. Установите зависимости:
   pip3 install pyautogen
2. Запустите единственный файл:
   python3 main.py
3. Наблюдайте, как агенты обмениваются данными через очереди в реальном времени.

## Результаты

- В первом варианте SenderAgent отправляет числа (например, 9, 8, 7...), а ReceiverAgent анализирует их и даёт рекомендации.
- Во втором варианте SenderAgent (на asyncio) и ReceiverAgent (на AutoGen) обмениваются числами через очереди, корректируя их в зависимости от среднего значения.
- В обоих случаях система стремится поддерживать среднее значение около 5.

## Примечания

- Второй вариант (`main.py`) предложен как альтернативное решение для упрощения кода и устранения необходимости в XMPP-сервере.
- Разработка выполнена на Python 3.13 (по состоянию на 10:25 AM +05, 06 июня 2025 года).
